// Find the state select box
var state = document.getElementById("doctor_state");
if ( state == null )
{
    state = document.getElementById("patient_state");
}

// Clear the options in the select box
while (state.firstChild) state.removeChild(state.firstChild);

// Add a placeholder
var placeholder = document.createElement("option");
placeholder.text = "Estados";
placeholder.value = "";
placeholder.placeholder = true;
state.appendChild(placeholder);

// Add the states
if ( state == document.getElementById("doctor_state") )
{
    <% @dstates.each do |s| %>
        state.options[state.options.length] = new Option('<%= s[1] %>', '<%= s[0] %>');
    <% end %>
}else{
    <% @pstates.each do |s| %>
        state.options[state.options.length] = new Option('<%= s[1] %>', '<%= s[0] %>');
    <% end %>
}