// Find the state select box
var dstate = document.getElementById("doctor_state");

// Clear the options in the select box
while (dstate.firstChild) dstate.removeChild(dstate.firstChild);

// Add a placeholder
var placeholder = document.createElement("option");
placeholder.text = "Choose a state";
placeholder.value = "";
placeholder.placeholder = true;
dstate.appendChild(placeholder);

// Add the states
<% @dstates.each do |s| %>
dstate.options[dstate.options.length] = new Option('<%= s[1] %>', '<%= s[0] %>');
<% end %>

// Find the state select box
var pstate = document.getElementById("patient_state");

// Clear the options in the select box
while (pstate.firstChild) state.removeChild(pstate.firstChild);

// Add a placeholder
pstate.appendChild(placeholder);

// Add the states
<% @pstates.each do |s| %>
pstate.options[pstate.options.length] = new Option('<%= s[1] %>', '<%= s[0] %>');
<% end %>